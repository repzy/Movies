# Movies

Ок, почнемо. Розробляючи архітектуру я намагався зробти щось типу міні фреймворка з одною точкою входу та контроллером.
Для початку розглянемо структуру папок. 
У папці Entities лежать класи які працюють з базю даних. 
У Handlers лежить наш "контроллер", що обробляє вхідну інформацію та визиває методи класів з папки Entities. 
В MySqlDump - зберігаються дампи таблиць бази даних. 
В папку Uploads зберігається файл, з якого ми зчитуємо інформацію про фільми. 
В Utils знаходиться файли database, що ініціалізує підключення до бази даних, та validator - перевіряє вхідні дані 
на валідність. 
У Views знаходяться сторніки на яких виводиться інформація. 

 Щоб краще зрозуміти як це все працює розглянемо роботу програми на прикладі пошуку фільму за актором. Отримування та
 пердача даних відбувається через масив POST. Обов'язковою умовою функціонування сайту є масив action у POST. До 
 кожного view файлу підключена форма з input для пошуку та кнопками для навігації. Отже, коли ми вводимо ім'я актора, 
 вибираємо actor з випадаючого списку та нажимаємо кпку Find - генерується ось такий масив:
 ```php
 array (size=3)
   'request' => string 'Mel' (length=3)
   'find_type' => string 'search_star' (length=11)
   'action' => 
     array (size=1)
       'find' => string 'Find' (length=4)
```
та відправляється на індексну сторінку. Індекс дивиться на ключ action і в залежності від нього підключає нам файл із 
view. Потім ми зустрічаємось із Handler'ом і даний масив обробляє функція handleRequest(). Ця функція також дивиться на
action і передає до нашого валідотру. Валідатор формує назву функції у вигляді actionValidate() та виконує її. У 
даному випадку виконується findValidate. Якщо всі поля проходять валідацію ми вертаємось до Handler'а та аналогічно 
формуємо findRequest(). Дана функція залежно від find_type виконує пошук фільму. На виході ми отримуємо масив з 
 назвами фільмів. Біля кожного фільму є кнопка Show, що формує actionShow, та виводить детальну інформацію про фільм.  
  